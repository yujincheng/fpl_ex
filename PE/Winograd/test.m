
M=rand(4);

M00=M(1,1);M01=M(1,2);M02=M(1,3);M03=M(1,4);
M10=M(2,1);M11=M(2,2);M12=M(2,3);M13=M(2,4);
M20=M(3,1);M21=M(3,2);M22=M(3,3);M23=M(3,4);
M30=M(4,1);M31=M(4,2);M32=M(4,3);M33=M(4,4);
T1 = M01 + M21 + M11;
T2 = M11 - M21 - M31;
T3 = M12 + M02 + M22;
T4 = M12 - M22 - M32;
T5 = M00 + M10 + M20;
T6 = M03 + M13 + M23;
T7 = M10 - M20 - M30;
T8 = M13 - M23 - M33;

A=[1,0;1,1;1,-1;0,-1];

AMA=[ T1 + T5 + T3,T1 - T6 - T3;T2 + T7 + T4,T2 - T8 - T4];
disp(AMA-A'*M*A)
